<?xml version="1.0"?>
<ruleset name="Machinjiri">
  <description>PSR-12 coding standard for Machinjiri Framework</description>
  
  <!-- Include PSR-12 standard -->
  <rule ref="PSR12">
    <!-- Exclude some rules if needed -->
  </rule>
  
  <!-- Configure specific rules -->
  <rule ref="Generic.Metrics.NestingLevel">
    <properties>
      <property name="nestingLevel" value="5"/>
      <property name="absoluteNestingLevel" value="7"/>
    </properties>
  </rule>
  
  <rule ref="Generic.Metrics.CyclomaticComplexity">
    <properties>
      <property name="complexity" value="10"/>
      <property name="absoluteComplexity" value="15"/>
    </properties>
  </rule>
  
  <rule ref="Generic.Files.LineLength">
    <properties>
      <property name="lineLimit" value="120"/>
      <property name="absoluteLineLimit" value="150"/>
    </properties>
  </rule>
  
  <!-- File structure -->
  <rule ref="Squiz.Classes.ClassFileName"/>
  <rule ref="Squiz.Classes.SelfMemberReference"/>
  <rule ref="Squiz.Operators.ComparisonOperatorUsage"/>
  
  <!-- Function naming -->
  <rule ref="PSR1.Methods.CamelCapsMethodName"/>
  <rule ref="Squiz.Functions.FunctionDeclaration"/>
  
  <!-- Whitespace -->
  <rule ref="Squiz.WhiteSpace.LogicalOperatorSpacing"/>
  <rule ref="Squiz.WhiteSpace.CastSpacing"/>
  
  <!-- Exclude migrations and factories from strict checks -->
  <exclude-pattern>*/migrations/*</exclude-pattern>
  <exclude-pattern>*/factories/*</exclude-pattern>
  <exclude-pattern>*/vendor/*</exclude-pattern>
  <exclude-pattern>*/tests/*</exclude-pattern>
  
  <!-- Report settings -->
  <arg name="report" value="summary"/>
  <arg name="report" value="source"/>
  <arg name="colors"/>
  <arg name="extensions" value="php"/>
</ruleset>
